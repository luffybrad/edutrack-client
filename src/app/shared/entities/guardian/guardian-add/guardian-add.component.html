<div
  class="max-w-xl mx-auto bg-white p-8 rounded-2xl shadow-lg border border-gray-200"
>
  <!-- Header: flex row -->
  <div class="flex items-center justify-between mb-6">
    <h2 class="text-3xl font-bold text-gray-800">Add Guardian</h2>

    <a
      (click)="goBack()"
      class="inline-flex items-center text-sm text-blue-600 hover:text-blue-800"
    >
      <i class="fas fa-arrow-left mr-2"></i> Back to Guardians
    </a>
  </div>

  <!-- Name -->
  <label class="block mb-5">
    <span class="block text-sm font-medium text-gray-700 mb-1">Name</span>
    <input
      [(ngModel)]="name"
      placeholder="Enter full name"
      class="border border-gray-300 px-4 py-3 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-blue-500"
    />
  </label>

  <!-- Email -->
  <label class="block mb-5">
    <span class="block text-sm font-medium text-gray-700 mb-1">Email</span>
    <input
      [(ngModel)]="email"
      placeholder="example@email.com"
      type="email"
      class="border border-gray-300 px-4 py-3 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-blue-500"
    />
  </label>

  <!-- Phone -->
  <label class="block mb-5">
    <span class="block text-sm font-medium text-gray-700 mb-1">Phone</span>
    <input
      [(ngModel)]="phone"
      mask="0000 000 000"
      placeholder="07XX XXX XXX"
      class="border border-gray-300 px-4 py-3 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-blue-500"
    />
  </label>

  <!-- Assign Students -->
  <div class="mb-5">
    <span class="block text-sm font-medium text-gray-700 mb-2"
      >Assign Students</span
    >

    <input
      [(ngModel)]="studentSearch"
      placeholder="Search students..."
      class="border border-gray-300 px-4 py-3 rounded-lg w-full mb-3 focus:outline-none focus:ring-2 focus:ring-blue-500"
    />

    <div class="border border-gray-300 rounded-lg max-h-48 overflow-y-auto">
      <label
        *ngFor="let s of filteredStudents"
        class="flex items-center px-4 py-3 hover:bg-gray-50"
      >
        <input
          type="checkbox"
          [checked]="selectedStudentIds.includes(s.id!)"
          (change)="toggleStudent(s.id!)"
          class="mr-3"
        />
        <span class="text-sm text-gray-800">{{ s.admNo }} â€” {{ s.name }}</span>
      </label>
      <p
        *ngIf="!filteredStudents.length"
        class="px-4 py-3 text-sm text-gray-500"
      >
        No students found.
      </p>
    </div>
  </div>

  <!-- Save button -->
  <button
    (click)="saveGuardian()"
    class="w-full bg-blue-600 text-white px-4 py-3 rounded-lg font-medium hover:bg-blue-700 transition"
  >
    Save Guardian
  </button>
</div>
