<div class="p-6 bg-blue-50 min-h-screen space-y-6">
    <h1 class="text-3xl font-bold text-blue-700 mb-6">Results Dashboard</h1>

    <!-- Upload Section -->
    <app-upload-results-section (uploaded)="onUpload()"></app-upload-results-section>



    <!-- Dashboard Sections -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <app-student-results-section></app-student-results-section>
        <app-subject-analysis-section></app-subject-analysis-section>
    </div>


    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <app-exam-results-section></app-exam-results-section>
        <app-exam-analytics-section></app-exam-analytics-section>
    </div>

    <!-- Filters Section -->
    <div class="bg-white p-4 rounded shadow-md border border-blue-200 flex flex-wrap gap-4">
        <!-- Exam Filter -->
        <div class="flex flex-col">
            <label class="font-semibold text-blue-600 mb-1">Select Exam</label>
            <select class="border p-2 rounded" [(ngModel)]="selectedExamId" (change)="onExamChange()">
                <option [ngValue]="undefined">-- All Exams --</option>
                <option *ngFor="let e of exams" [value]="e.id">{{ e.name }}</option>
            </select>
        </div>

        <!-- Student Filter -->
        <div class="flex flex-col">
            <label class="font-semibold text-blue-600 mb-1">Select Student</label>
            <select class="border p-2 rounded" [(ngModel)]="selectedStudentId">
                <option [ngValue]="undefined">-- All Students --</option>
                <option *ngFor="let s of students" [value]="s.id">{{ s.name }}</option>
            </select>
        </div>

        <!-- Subject Filter -->
        <div class="flex flex-col" *ngIf="subjects.length">
            <label class="font-semibold text-blue-600 mb-1">Select Subject</label>
            <select class="border p-2 rounded" [(ngModel)]="selectedSubject">
                <option [ngValue]="undefined">-- All Subjects --</option>
                <option *ngFor="let sub of subjects" [value]="sub">{{ sub }}</option>
            </select>
        </div>

        <!-- Class Filter -->
        <div class="flex flex-col" *ngIf="classes.length">
            <label class="font-semibold text-blue-600 mb-1">Select Class</label>
            <select class="border p-2 rounded" [(ngModel)]="selectedClassId">
                <option [ngValue]="undefined">-- All Classes --</option>
                <option *ngFor="let c of classes" [value]="c">{{ c }}</option>
            </select>
        </div>
    </div>
    <app-reports-section [studentId]="selectedStudentId" [examId]="selectedExamId" [selectedSubject]="selectedSubject"
        [selectedClassId]="selectedClassId"></app-reports-section>
</div>